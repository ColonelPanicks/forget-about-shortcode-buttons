function getButton(){var e=jQuery("#button-dialog input#button-url").val();var t=jQuery("#button-dialog input#button-text").val();var n=jQuery("#button-dialog select#button-size").val();var r=jQuery("#button-dialog input#button-color").val();var i=jQuery("#button-dialog input#text-color").val();var s=jQuery("#button-dialog select#button-type").val();var o=jQuery("#button-dialog select#button-align").val();var u=jQuery("#button-dialog input#new-window").prop("checked");var a="";var f="";var l="";var c="";var h="";var p="";var d="";if(u==true){p=' target="_blank"'}if(s){if(s!=""){l=" "+s}}if(n){if(n!=""){c=" "+n}}var v=$("#tab-2-content .ico-grid div.active");var m="";var g="";if(v.length==1){var y=v.attr("class").split(" ");for(var b=0;b<y.length;b++){if(y[b]!="dashicons"&&y[b]!="active"){m=" fasc-ico "+y[b];g=' data-icon-class="'+y[b]+'"'}}}var w='<a href="'+e+'" class="fasc-button'+c+l+m+'"'+p+g+' data-size="'+n+'" data-type="'+s+'" style="background-color:'+r+";color:"+i+';" data-fasc-style="background-color:'+r+";color:"+i+';">'+t+"</a>";return w}function rgb2hex(e){if(e.search("rgb")==-1){return e}else{e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/);function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}return"#"+t(e[1])+t(e[2])+t(e[3])}}var $currentNode=null;(function(e){e(function(){e("#tab-header a").click(function(){$this=e(this);var t=$this.attr("href");$this.parent().parent().find("li").removeClass("active");$this.parent().addClass("active");e("#button-dialog .fasc-tab-content").hide();e("#button-dialog "+t).show();return false});e("#tab-2-content .ico-grid div").click(function(t){t.preventDefault();e("#tab-2-content .ico-grid div").removeClass("active");e(this).addClass("active");$previewButton.html(getButton());e("#tab-2-content .fasc-ico-position").removeAttr("checked");e('#tab-2-content .fasc-ico-position[value="before"]').prop("checked",true);return false});e("#tab-2-content .fasc-ico-position").change(function(t){if(e(this).val()=="none"){e("#tab-2-content .ico-grid div").removeClass("active")}else if(e(this).val()=="before"){var n=e("#tab-2-content .ico-grid div.active");if(n.length==1){}else{e(e("#tab-2-content .ico-grid > div").get(0)).addClass("active")}}$previewButton.html(getButton())});$previewButton=jQuery(".preview-button-area .centered-button");e('#button-dialog select, #button-dialog input[type="checkbox"]').change(function(){$previewButton.html(getButton())});e('#button-dialog input[type="text"]').keyup(function(){$previewButton.html(getButton())});e('#button-dialog input[type="text"]').keyup(function(){$previewButton.html(getButton())});$previewButton.html(getButton())})})(window.jQuery);var ButtonDialog={local_ed:"ed",init:function(e){ButtonDialog.local_ed=e;tinyMCEPopup.resizeToInnerSize();var t=top.tinymce.activeEditor.windowManager.getParams();$currentNode=t.target;if(source=="click"){var n="";var r=$currentNode.attr("href");jQuery("#button-dialog input#button-url").val(r);var i=$currentNode.attr("target");if(typeof i!="undefined"){if(i=="_blank"){jQuery("#button-dialog input#new-window").prop("checked",true)}}var s=$currentNode.text();jQuery("#button-dialog input#button-text").val(s);if($currentNode.is("[data-icon-class]")){var o=$currentNode.attr("data-icon-class");jQuery(".ico-grid ."+o).addClass("active");$('#tab-2-content .fasc-ico-position[value="before"]').attr("checked","checked")}var u=$currentNode.attr("data-size");jQuery("#button-size option").removeAttr("selected");jQuery('#button-size option[value="'+u+'"]').attr("selected","selected");var a=$currentNode.attr("data-type");jQuery("#button-type option").removeAttr("selected");jQuery('#button-type option[value="'+a+'"]').attr("selected","selected");var f=rgb2hex($currentNode.css("color"));jQuery("#text-color").val(f);var l=rgb2hex($currentNode.css("background-color"));jQuery("#button-color").val(l)}else{var s=e.selection.getContent();jQuery("#button-dialog input#button-text").val(s)}$previewButton=jQuery(".preview-button-area .centered-button");$previewButton.html(getButton());$("#button-color, #text-color").minicolors({position:"top left",change:function(e,t){$previewButton.html(getButton())}})},insert:function(t){if(source=="click"){$currentNode.remove()}tinyMCEPopup.execCommand("mceReplaceContent",false,getButton());tinyMCEPopup.close()}};tinyMCEPopup.onInit.add(ButtonDialog.init,ButtonDialog)